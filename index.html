<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Class 5A - 1st Terminal Result 2082 - LTMA</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.4;
    }
    
    body {
      background: #f5f7fa;
      padding: 10px;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      background: white;
      margin: auto;
      padding: 0;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    /* School Header Section */
    .school-header {
      background: linear-gradient(90deg, #0d1b48, #1a3a7e);
      color: white;
      padding: 15px;
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 4px solid #ffc107;
    }
    
    .emblem {
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid rgba(255, 255, 255, 0.2);
      flex-shrink: 0;
    }
    
    .emblem i {
      font-size: 24px;
      color: #ffc107;
    }
    
    .header-content {
      flex: 1;
      min-width: 0;
    }
    
    .academy-name {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .academy-tagline {
      font-size: 11px;
      opacity: 0.85;
      margin-bottom: 6px;
      font-style: italic;
    }
    
    .academy-details {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 10px;
    }
    
    .detail-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .detail-item i {
      color: #ffc107;
      width: 12px;
      text-align: center;
      font-size: 10px;
    }
    
    /* Exam Info Section */
    .exam-info-section {
      background: #f1f5fd;
      padding: 8px 15px;
      font-weight: 600;
      color: #1a3a7e;
      font-size: 13px;
      border-bottom: 1px solid #d0d9f0;
    }
    
    .exam-info {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      padding-bottom: 5px;
      -webkit-overflow-scrolling: touch;
    }
    
    .exam-info::-webkit-scrollbar {
      display: none;
    }
    
    .exam-info span {
      display: flex;
      align-items: center;
      gap: 5px;
      flex-shrink: 0;
    }
    
    .exam-info i {
      color: #1a3a7e;
      font-size: 12px;
    }
    
    /* Search Section */
    .search-section {
      padding: 15px;
      background: #f8f9fa;
      border-bottom: 1px solid #e1e5eb;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #34495e;
      font-size: 14px;
    }
    
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
      box-sizing: border-box;
    }
    
    button {
      padding: 12px;
      background: #3498db;
      color: white;
      border: none;
      width: 100%;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background 0.3s;
      margin-bottom: 10px;
    }
    
    button:hover {
      background: #2980b9;
    }
    
    .print-btn {
      background: #27ae60;
    }
    
    .print-btn:hover {
      background: #219653;
    }
    
    .browser-btn {
      background: #9b59b6;
    }
    
    .browser-btn:hover {
      background: #8e44ad;
    }
    
    .error-message {
      color: #e74c3c;
      text-align: center;
      padding: 10px;
      margin-bottom: 15px;
      font-weight: 600;
      display: none;
    }
    
    .browser-notice {
      display: none;
      background: #fff8e1;
      padding: 10px;
      border-left: 4px solid #f39c12;
      margin-bottom: 15px;
      font-size: 14px;
    }
    
    /* Result Container */
    .result-container {
      width: 100%;
      background: white;
      display: none;
      flex-direction: column;
      position: relative;
    }
    
    /* Student Information */
    .student-section {
      background: #f9fbff;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #e0e8ff;
    }
    
    .student-details {
      display: flex;
      flex-direction: column;
    }
    
    .student-name {
      font-size: 18px;
      font-weight: 700;
      color: #1a3a7e;
      margin-bottom: 5px;
    }
    
    .roll-number {
      background: #1a3a7e;
      color: white;
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 13px;
      display: inline-block;
    }
    
    .result-badge {
      background: linear-gradient(135deg, #1a3a7e, #0d1b48); /* Blue gradient */
      color: white;
      padding: 8px 15px;
      border-radius: 6px;
      font-weight: 600;
      text-align: center;
      min-width: 120px;
      font-size: 13px;
    }
    
    .result-badge.fail {
      background: linear-gradient(135deg, #b71c1c, #c62828);
    }
    
    .result-badge .label {
      font-size: 11px;
      opacity: 0.9;
      margin-bottom: 3px;
    }
    
    .result-badge .value {
      font-size: 16px;
    }
    
    /* Result Table */
    .result-section {
      padding: 15px;
      flex: 1;
    }
    
    .marks-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0 15px;
      font-size: 13px;
    }
    
    .marks-table th {
      background: #1a3a7e;
      color: white;
      padding: 8px 10px;
      text-align: left;
      font-weight: 600;
    }
    
    .marks-table td {
      padding: 7px 10px;
      border-bottom: 1px solid #eef2f9;
    }
    
    .marks-table tr:nth-child(even) {
      background-color: #f9fbff;
    }
    
    .pass {
      color: #2e7d32;
      font-weight: 600;
      background: rgba(46, 125, 50, 0.1);
      padding: 3px 8px;
      border-radius: 15px;
      display: inline-block;
      font-size: 12px;
    }
    
    .fail {
      color: #c62828;
      font-weight: 600;
      background: rgba(198, 40, 40, 0.1);
      padding: 3px 8px;
      border-radius: 15px;
      display: inline-block;
      font-size: 12px;
    }
    
    /* Summary Section */
    .summary {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin: 15px 0 20px;
    }
    
    .summary-card {
      background: #f9fbff;
      border-radius: 6px;
      padding: 10px;
      text-align: center;
      border: 1px solid #e0e8ff;
      font-size: 13px;
    }
    
    .summary-title {
      font-size: 12px;
      color: #1a3a7e;
      margin-bottom: 5px;
      font-weight: 600;
    }
    
    .summary-value {
      font-size: 16px;
      font-weight: 700;
    }
    
    .total-marks {
      color: #1a3a7e;
    }
    
    .percentage {
      color: #2e7d32;
    }
    
    .attendance {
      color: #1565c0;
    }
    
    .final-result {
      color: #c62828;
    }
    
    /* Note Section */
    .note {
      background: #fffcf0;
      border-left: 3px solid #ffc107;
      padding: 12px 15px;
      margin: 10px 0;
      border-radius: 0 5px 5px 0;
      font-size: 12px;
    }
    
    .note-title {
      font-weight: 700;
      margin-bottom: 5px;
      color: #5d4037;
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 12px;
    }
    
    .note-title i {
      font-size: 13px;
    }
    
    /* Footer */
    .footer {
      background: #0d1b48;
      color: rgba(255, 255, 255, 0.8);
      text-align: center;
      padding: 12px;
      font-size: 11px;
    }
    
    /* Signature Area */
    .signature-area {
      display: flex;
      justify-content: space-between;
      padding: 15px 15px 10px;
      border-top: 1px dashed #ccc;
      margin-top: 5px;
    }
    
    .signature-box {
      text-align: center;
      width: 45%;
    }
    
    .signature-line {
      height: 1px;
      background: #333;
      margin: 30px 0 8px;
    }
    
    .signature-label {
      font-size: 12px;
      color: #1a3a7e;
      font-weight: 600;
    }
    
    @media print {
      body {
        background: white;
        padding: 0;
        font-size: 12px;
      }
      
      .container {
        box-shadow: none;
        border-radius: 0;
        max-width: 100%;
        padding: 0;
        margin: 0;
      }
      
      .search-section {
        display: none;
      }
      
      .result-container {
        display: flex !important;
        height: auto;
        page-break-after: avoid;
      }
      
      .school-header, .exam-info-section {
        display: block !important;
      }
      
      .marks-table {
        font-size: 11px;
      }
      
      .summary-card {
        padding: 5px;
      }
      
      .summary-value {
        font-size: 14px;
      }
      
      .signature-line {
        margin: 20px 0 5px;
      }
      
      .footer {
        padding: 8px;
      }
    }
    
    @media (min-width: 768px) {
      .summary {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Add browser notice at the top -->
    <div class="browser-notice">
      <strong>Note:</strong> For full functionality including printing, please open this page in your browser (tap the menu icon → "Open in Browser").
    </div>

    <!-- School Header -->
    <div class="school-header">
      <div class="emblem">
        <i class="fas fa-graduation-cap"></i>
      </div>
      <div class="header-content">
        <div class="academy-name">Lakhan Thapa Memorial Academy</div>
        <div class="academy-tagline">Excellence in Education Since 2053 B.S</div>
        <div class="academy-details">
          <div class="detail-item">
            <i class="fas fa-calendar-alt"></i>
            <span>Estd: 2053 B.S</span>
          </div>
          <div class="detail-item">
            <i class="fas fa-phone-alt"></i>
            <span>Contact: 078-416088</span>
          </div>
          <div class="detail-item">
            <i class="fas fa-envelope"></i>
            <span>Email: ltmanawalpur@gmail.com</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Exam Info Section -->
    <div class="exam-info-section">
      <div class="exam-info">
        <span>1st Terminal Examination - 2082 B.S</span>
        <span><i class="fas fa-users"></i> Class: 5 | Section: A</span>
      </div>
    </div>

    <!-- Search Section -->
    <div class="search-section">
      <div id="error-message" class="error-message"></div>
      
      <label for="roll">Enter Student Roll Number</label>
      <input type="number" id="roll" placeholder="Enter roll number (1-22)" min="1" max="22">
      
      <button onclick="showResult()">View Result</button>
    </div>
    
    <!-- Result Container -->
    <div id="result" class="result-container">
      <!-- Student Information -->
      <div class="student-section">
        <div class="student-details">
          <div class="student-name" id="student-name"></div>
          <div class="roll-number">Roll No.: <span id="student-roll"></span></div>
        </div>
        <div class="result-badge" id="final-badge">
          <div class="label">Final Result</div>
          <div class="value" id="final-badge-value"></div>
        </div>
      </div>
      
      <!-- Result Table -->
      <div class="result-section">
        <table class="marks-table">
          <thead>
            <tr>
              <th>Subject</th>
              <th>Full Marks</th>
              <th>Pass Marks</th>
              <th>Obtained Marks</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="marks-body">
          </tbody>
        </table>
        
        <!-- Summary Section -->
        <div class="summary">
          <div class="summary-card">
            <div class="summary-title">Total Marks</div>
            <div class="summary-value total-marks"><span id="total-marks"></span>/400</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Percentage</div>
            <div class="summary-value percentage"><span id="percentage"></span></div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Attendance</div>
            <div class="summary-value attendance"><span id="attendance"></span> days</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Position</div>
            <div class="summary-value final-result"><span id="position"></span></div>
          </div>
        </div>
        
        <!-- Note Section -->
        <div class="note">
          <div class="note-title"><i class="fas fa-exclamation-circle"></i> Important Note:</div>
          <p>This is the result of 1st Terminal Examination 2082 B.S. Students or guardians can contact the school administration for any queries regarding the result. To verify this result, please visit the school as soon as possible.</p>
        </div>
        
        <!-- Signature Area -->
        <div class="signature-area">
          <div class="signature-box">
            <div class="signature-line"></div>
            <div class="signature-label">Class Teacher</div>
          </div>
          <div class="signature-box">
            <div class="signature-line"></div>
            <div class="signature-label">Principal</div>
          </div>
        </div>
      </div>
      
      <!-- Footer -->
      <div class="footer">
        © 2082 B.S Lakhan Thapa Memorial Academy. All Rights Reserved.
      </div>
    </div>
    
    <!-- Print and Browser Buttons -->
    <div class="search-section">
      <button onclick="tryPrint()" class="print-btn">🖨️ Print Result</button>
      <button onclick="openInBrowser()" class="browser-btn">🌐 Open in Browser for Full Features</button>
    </div>
  </div>

  <script>
    const data = {
      1: {
        name: "Anup Sathighare",
        marks: [20, 29, 27, 24, 20, 20, 22, 21],
        total: 183,
        percent: "45.8%",
        status: "TENTH",
        attendance: 64
      },
      2: {
        name: "Asim Ruchal",
        marks: [31, 12, 21, 15, 21.5, 9.5, 30, 23.5],
        total: 163.5,
        percent: "40.9%",
        status: "FAIL",
        attendance: 64
      },
      3: {
        name: "Asmita Ghimire",
        marks: [28.5, 8.5, 19, 17, 36, 17.5, 22, 20],
        total: 168.5,
        percent: "42.1%",
        status: "FAIL",
        attendance: 64
      },
      4: {
        name: "Barsha B.K",
        marks: [16, 1, 15, 12, 20, 2.5, 15, 17.5],
        total: 99,
        percent: "24.8%",
        status: "FAIL",
        attendance: 59
      },
      5: {
        name: "Bipsana Kumal",
        marks: [17, 9, 12, 15, 26.5, 12.5, 29, 17],
        total: 138,
        percent: "34.5%",
        status: "FAIL",
        attendance: 63
      },
      7: {
        name: "Dev Timilsena",
        marks: [7, 10.5, 22, 31, 5.5, 20.5, 12, 24],
        total: 132.5,
        percent: "33.1%",
        status: "FAIL",
        attendance: 59
      },
      6: {
        name: "Deep Dhenga",
        marks: [6.5, 10.5, 23, 12, 11, 8.5, 15, 21],
        total: 107.5,
        percent: "26.9%",
        status: "FAIL",
        attendance: 53
      },
      8: {
        name: "Ganga B.K",
        marks: [16, 20, 17, 5, 4.5, 0, 23, 12],
        total: 97.5,
        percent: "24.4%",
        status: "FAIL",
        attendance: 56
      },
      9: {
        name: "Jamuna B.K",
        marks: [26.5, 25.5, 26, 23, 24, 11, 28, 27],
        total: 191,
        percent: "47.8%",
        status: "FAIL",
        attendance: 54
      },
      10: {
        name: "Jenisha Mashrangi",
        marks: [26, 27.5, 24, 23, 24, 9.5, 21, 25.5],
        total: 180.5,
        percent: "45.1%",
        status: "FAIL",
        attendance: 63
      },
      11: {
        name: "Kristi Somai",
        marks: [33.5, 20, 25, 20, 30.5, 21.5, 37, 20.5],
        total: 208,
        percent: "52.0%",
        status: "NINTH",
        attendance: 57
      },
      12: {
        name: "Laxmi Shrestha",
        marks: [31, 23.5, 28, 28, 34.5, 25.5, 37, 31],
        total: 238.5,
        percent: "59.6%",
        status: "SIXTH",
        attendance: 63
      },
      13: {
        name: "Manan B.K",
        marks: [27, 6, 16, 13, 20, 16, 14, 17.5],
        total: 129.5,
        percent: "32.4%",
        status: "FAIL",
        attendance: 63
      },
      14: {
        name: "Pratik Kafle",
        marks: [48.5, 48, 49, 42, 46, 49, 47, 39.5],
        total: 369,
        percent: "92.3%",
        status: "FIRST",
        attendance: 64
      },
      15: {
        name: "Priyanshu Thapa",
        marks: [28, 38, 36, 35, 27, 32, 25, 33.5],
        total: 254.5,
        percent: "63.6%",
        status: "FOURTH",
        attendance: 64
      },
      16: {
        name: "Reshmika B.K",
        marks: [29, 38.5, 31, 31, 25, 20, 26, 31.5],
        total: 232,
        percent: "58.0%",
        status: "EIGHTH",
        attendance: 62
      },
      17: {
        name: "Ridam Rana",
        marks: [40, 44, 47, 48, 49, 48.5, 43, 39.5],
        total: 359,
        percent: "89.8%",
        status: "SECOND",
        attendance: 64
      },
      18: {
        name: "Saina Khanal",
        marks: [20.5, 38, 22, 22, 31.5, 39, 44, 28.5],
        total: 245.5,
        percent: "61.4%",
        status: "FIFTH",
        attendance: 63
      },
      19: {
        name: "Shishir Shrestha",
        marks: [20.5, 42.5, 28, 28, 30.5, 29, 34, 24.5],
        total: 238,
        percent: "59.5%",
        status: "SEVENTH",
        attendance: 62
      },
      20: {
        name: "Shristi Gurung",
        marks: [14, 20, 23, 4, 13, 6.5, 3, 11],
        total: 94.5,
        percent: "23.6%",
        status: "FAIL",
        attendance: 59
      },
      21: {
        name: "Sudarshan Kafle",
        marks: [14, 18, 20, 14, 13, 24.5, 16, 13],
        total: 132.5,
        percent: "33.1%",
        status: "FAIL",
        attendance: 61
      },
      22: {
        name: "Tilak Pangeni",
        marks: [31.5, 30.5, 42, 36, 39, 42, 37, 34],
        total: 293,
        percent: "73.3%",
        status: "THIRD",
        attendance: 61
      }
    };

    const subjects = ["Nepali", "Math", "Computer", "Science", "Social", "Health", "Binayi Tribeni", "English"];
    const fullMarks = 50;
    const passMarks = 20;

    // Detect if running in a social media webview
    function isInAppBrowser() {
      return /FBAN|FBAV|Instagram|Twitter/i.test(navigator.userAgent);
    }

    // Show notice if in app browser
    if (isInAppBrowser()) {
      document.querySelector('.browser-notice').style.display = 'block';
    }

    // Enhanced print function
    function tryPrint() {
      try {
        if (typeof window.print === 'function') {
          window.print();
        } else {
          alert('For printing, please open this page in your regular browser. (Tap the menu icon → "Open in Browser")');
        }
      } catch (e) {
        alert('Printing is not available here. Please open in your browser.');
      }
    }

    // Open in browser function
    function openInBrowser() {
      try {
        window.open(window.location.href, '_blank');
      } catch (e) {
        alert('Please manually open in your browser');
      }
    }

    function showResult() {
      const roll = document.getElementById('roll').value;
      const resultDiv = document.getElementById('result');
      const errorDiv = document.getElementById('error-message');
      
      // Hide both containers initially
      resultDiv.style.display = 'none';
      errorDiv.style.display = 'none';
      
      // Validate input
      if (!roll || roll < 1 || roll > 22) {
        errorDiv.textContent = 'Invalid roll number. Please enter a number between 1 and 22.';
        errorDiv.style.display = 'block';
        return;
      }
      
      if (data[roll]) {
        const student = data[roll];
        
        // Set student info
        document.getElementById('student-name').textContent = student.name;
        document.getElementById('student-roll').textContent = roll;
        
        // Generate marks table
        let marksHtml = '';
        let allPassed = true;
        
        student.marks.forEach((mark, index) => {
          const status = mark >= passMarks ? 'pass' : 'fail';
          if (mark < passMarks) allPassed = false;
          
          marksHtml += `
            <tr>
              <td>${subjects[index]}</td>
              <td>${fullMarks}</td>
              <td>${passMarks}</td>
              <td>${mark}</td>
              <td><span class="${status}">${status === 'pass' ? 'Pass' : 'Fail'}</span></td>
            </tr>
          `;
        });
        
        document.getElementById('marks-body').innerHTML = marksHtml;
        
        // Set summary
        document.getElementById('total-marks').textContent = student.total;
        document.getElementById('percentage').textContent = student.percent;
        document.getElementById('position').textContent = student.status;
        document.getElementById('attendance').textContent = student.attendance;
        
        // Set final result badge
        const finalBadge = document.getElementById('final-badge');
        const finalBadgeValue = document.getElementById('final-badge-value');
        
        const isPass = !student.status.includes('FAIL');
        
        if (isPass) {
          finalBadge.className = 'result-badge';
          finalBadgeValue.textContent = 'Pass';
        } else {
          finalBadge.className = 'result-badge fail';
          finalBadgeValue.textContent = 'Fail';
        }
        
        resultDiv.style.display = 'flex';
        
        // Scroll to the result section
        resultDiv.scrollIntoView({ behavior: 'smooth' });
      } else {
        errorDiv.textContent = 'Result not found for this roll number. Please check the roll number and try again.';
        errorDiv.style.display = 'block';
      }
    }
    
    // Make sure the exam info is fully visible on small screens
    function adjustExamInfo() {
      const examInfo = document.querySelector('.exam-info');
      if (examInfo.scrollWidth > examInfo.clientWidth) {
        examInfo.style.justifyContent = 'flex-start';
      } else {
        examInfo.style.justifyContent = 'center';
      }
    }
    
    // Run on load and resize
    window.addEventListener('load', adjustExamInfo);
    window.addEventListener('resize', adjustExamInfo);
  </script>
</body>
</html>
