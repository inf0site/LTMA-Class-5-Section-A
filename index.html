<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Class 5A - 1st Terminal Result 2082 - LTMA</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 800px;
      background: white;
      margin: auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    .header {
      text-align: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid #e1e5eb;
    }
    .school-name {
      font-size: 24px;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 5px;
    }
    .school-info {
      font-size: 14px;
      color: #7f8c8d;
      margin-bottom: 10px;
    }
    .exam-info {
      font-size: 18px;
      font-weight: 600;
      color: #2980b9;
      margin: 15px 0;
    }
    .portal-title {
      font-size: 22px;
      color: #2c3e50;
      margin: 20px 0;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 5px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #34495e;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
      box-sizing: border-box;
    }
    button {
      padding: 12px;
      background: #3498db;
      color: white;
      border: none;
      width: 100%;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background 0.3s;
      margin-bottom: 15px;
    }
    button:hover {
      background: #2980b9;
    }
    .print-btn {
      background: #27ae60;
    }
    .print-btn:hover {
      background: #219653;
    }
    .browser-btn {
      background: #9b59b6;
    }
    .browser-btn:hover {
      background: #8e44ad;
    }
    .result-container {
      margin-top: 30px;
      padding: 25px;
      border: 1px solid #e1e5eb;
      border-radius: 8px;
      background: #f8f9fa;
      display: none;
    }
    .student-info {
      margin-bottom: 20px;
    }
    .student-name {
      font-size: 20px;
      font-weight: 700;
      color: #2c3e50;
    }
    .marks-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    .marks-table th, .marks-table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    .marks-table th {
      background-color: #3498db;
      color: white;
    }
    .marks-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    .pass {
      color: #27ae60;
      font-weight: 600;
    }
    .fail {
      color: #e74c3c;
      font-weight: 600;
    }
    .summary {
      margin-top: 20px;
      padding: 15px;
      background: #e8f4fc;
      border-radius: 5px;
    }
    .summary-item {
      margin-bottom: 8px;
    }
    .note {
      margin-top: 25px;
      padding: 15px;
      background: #fff8e1;
      border-left: 4px solid #f39c12;
      font-size: 14px;
      line-height: 1.6;
    }
    .footer {
      text-align: center;
      margin-top: 30px;
      font-size: 12px;
      color: #7f8c8d;
      border-top: 1px solid #e1e5eb;
      padding-top: 15px;
    }
    .error-message {
      color: #e74c3c;
      text-align: center;
      padding: 10px;
      margin-bottom: 15px;
      font-weight: 600;
      display: none;
    }
    .browser-notice {
      display: none;
      background: #fff8e1;
      padding: 10px;
      border-left: 4px solid #f39c12;
      margin-bottom: 15px;
      font-size: 14px;
    }
    @media print {
      button, input, label {
        display: none;
      }
      .result-container {
        border: none;
        background: none;
        padding: 0;
      }
      .container {
        box-shadow: none;
        padding: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="browser-notice">
      <strong>Note:</strong> For full functionality including printing, please open this page in your browser (tap the menu icon ‚Üí "Open in Browser").
    </div>

    <div class="header">
      <div class="school-name">Lakhan Thapa Memorial Academy</div>
      <div class="school-info">
        Estd: 2053 B.S | Contact: 078-416088 | Email: ltmanawalpur@gmail.com
      </div>
      <div class="exam-info">
        1st Terminal Examination - 2082 B.S | Class: 5 | Section: A
      </div>
    </div>

    <div class="portal-title">Student Result Portal</div>
    
    <div id="error-message" class="error-message"></div>
    
    <label for="roll">Enter Student Roll Number</label>
    <input type="number" id="roll" placeholder="Enter roll number (1-22)" min="1" max="22">
    
    <button onclick="showResult()">View Result</button>
    
    <div id="result" class="result-container">
      <div class="student-info">
        <div class="student-name" id="student-name"></div>
        <div>Roll No.: <span id="student-roll"></span></div>
      </div>
      
      <table class="marks-table">
        <thead>
          <tr>
            <th>Subject</th>
            <th>Full Marks</th>
            <th>Pass Marks</th>
            <th>Obtained Marks</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="marks-body">
        </tbody>
      </table>
      
      <div class="summary">
        <div class="summary-item"><strong>Total Marks:</strong> <span id="total-marks"></span>/400</div>
        <div class="summary-item"><strong>Percentage:</strong> <span id="percentage"></span></div>
        <div class="summary-item"><strong>Position:</strong> <span id="position"></span></div>
        <div class="summary-item"><strong>Final Result:</strong> <span id="final-result"></span></div>
      </div>
      
      <div class="note">
        <strong>Note:</strong> This is the result of 1st Terminal Examination 2082 B.S. Students or guardians can contact the school administration for any queries regarding the results. 
        If you find any discrepancies in the marks or details, please report to the school office within 7 days for necessary corrections.
        Regular office hours: 10:00 AM to 4:00 PM (Sunday to Friday).
      </div>
    </div>
    
    <button onclick="tryPrint()" class="print-btn">üñ®Ô∏è Print Result</button>
    
    <button onclick="openInBrowser()" class="browser-btn">üåê Open in Browser for Full Features</button>
    
    <div class="footer">
      ¬© 2082 B.S Lakhan Thapa Memorial Academy. All Rights Reserved.
    </div>
  </div>

  <script>
    const data = {
      1: {
        name: "Anup Sathighare",
        marks: [19, 29, 27, 24, 20, 16, 22, 21],
        total: 178,
        percent: "44.5%",
        status: "FAIL",
        attendance: "N/A"
      },
      2: {
        name: "Asim Ruchal",
        marks: [31, 12, 21, 15, 21.5, 9.5, 30, 23.5],
        total: 163.5,
        percent: "40.9%",
        status: "FAIL",
        attendance: "N/A"
      },
      3: {
        name: "Asmita Ghimire",
        marks: [28.5, 8.5, 19, 17, 36, 17.5, 22, 20],
        total: 168.5,
        percent: "42.1%",
        status: "FAIL",
        attendance: "N/A"
      },
      4: {
        name: "Barsha B.K",
        marks: [16, 1, 15, 12, 20, 2.5, 15, 17.5],
        total: 99,
        percent: "24.8%",
        status: "FAIL",
        attendance: "N/A"
      },
      5: {
        name: "Bipsana Kumal",
        marks: [17, 9, 12, 15, 26.5, 12.5, 29, 17],
        total: 138,
        percent: "34.5%",
        status: "FAIL",
        attendance: "N/A"
      },
      6: {
        name: "Dev Timilsena",
        marks: [7, 10.5, 22, 31, 5.5, 20.5, 12, 24],
        total: 132.5,
        percent: "33.1%",
        status: "FAIL",
        attendance: "N/A"
      },
      7: {
        name: "Deep Dhenga",
        marks: [6.5, 10.5, 23, 12, 11, 8.5, 15, 21],
        total: 107.5,
        percent: "26.9%",
        status: "FAIL",
        attendance: "N/A"
      },
      8: {
        name: "Ganga B.K",
        marks: [16, 20, 17, 5, 4.5, 0, 23, 12],
        total: 97.5,
        percent: "24.4%",
        status: "FAIL",
        attendance: "N/A"
      },
      9: {
        name: "Jamuna B.K",
        marks: [26.5, 25.5, 26, 23, 24, 11, 28, 27],
        total: 191,
        percent: "47.8%",
        status: "FAIL",
        attendance: "N/A"
      },
      10: {
        name: "Jenisha Mashrangi",
        marks: [26, 27.5, 24, 23, 24, 9.5, 21, 25.5],
        total: 180.5,
        percent: "45.1%",
        status: "FAIL",
        attendance: "N/A"
      },
      11: {
        name: "Kristi Somai",
        marks: [33.5, 20, 25, 16, 30.5, 21.5, 37, 20.5],
        total: 204,
        percent: "51.0%",
        status: "FAIL",
        attendance: "N/A"
      },
      12: {
        name: "Laxmi Shrestha",
        marks: [31, 23.5, 28, 28, 34.5, 25.5, 37, 31],
        total: 238.5,
        percent: "59.6%",
        status: "SIXTH",
        attendance: "N/A"
      },
      13: {
        name: "Manan B.K",
        marks: [27, 6, 16, 13, 20, 16, 14, 17.5],
        total: 129.5,
        percent: "32.4%",
        status: "FAIL",
        attendance: "N/A"
      },
      14: {
        name: "Pratik Kafle",
        marks: [48.5, 48, 49, 42, 46, 49, 47, 39.5],
        total: 369,
        percent: "92.3%",
        status: "FIRST",
        attendance: "N/A"
      },
      15: {
        name: "Priyanshu Thapa",
        marks: [28, 38, 36, 35, 27, 32, 25, 33.5],
        total: 254.5,
        percent: "63.6%",
        status: "FOURTH",
        attendance: "N/A"
      },
      16: {
        name: "Reshmika B.K",
        marks: [29, 38.5, 31, 31, 25, 16.5, 26, 31.5],
        total: 228.5,
        percent: "57.1%",
        status: "FAIL",
        attendance: "N/A"
      },
      17: {
        name: "Ridam Rana",
        marks: [40, 44, 47, 48, 49, 48.5, 43, 39.5],
        total: 359,
        percent: "89.8%",
        status: "SECOND",
        attendance: "N/A"
      },
      18: {
        name: "Saina Khanal",
        marks: [20.5, 38, 22, 22, 31.5, 39, 44, 28.5],
        total: 245.5,
        percent: "61.4%",
        status: "FIFTH",
        attendance: "N/A"
      },
      19: {
        name: "Shishir Shrestha",
        marks: [20.5, 42.5, 28, 28, 30.5, 29, 34, 24.5],
        total: 238,
        percent: "59.5%",
        status: "SEVENTH",
        attendance: "N/A"
      },
      20: {
        name: "Shristi Gurung",
        marks: [14, 20, 23, 4, 13, 6.5, 3, 11],
        total: 94.5,
        percent: "23.6%",
        status: "FAIL",
        attendance: "N/A"
      },
      21: {
        name: "Sudarshan Kafle",
        marks: [14, 18, 20, 14, 13, 24.5, 16, 13],
        total: 132.5,
        percent: "33.1%",
        status: "FAIL",
        attendance: "N/A"
      },
      22: {
        name: "Tilak Pangeni",
        marks: [31.5, 30.5, 42, 36, 39, 42, 37, 34],
        total: 293,
        percent: "73.3%",
        status: "THIRD",
        attendance: "N/A"
      }
    };

    const subjects = ["Nepali", "Math", "Computer", "Science", "Social", "Health", "Binayi Tribeni", "English"];
    const fullMarks = 50;
    const passMarks = 20;

    function isInAppBrowser() {
      return /FBAN|FBAV|Instagram|Twitter/i.test(navigator.userAgent);
    }

    if (isInAppBrowser()) {
      document.querySelector('.browser-notice').style.display = 'block';
    }

    function tryPrint() {
      try {
        if (typeof window.print === 'function') {
          window.print();
        } else {
          alert('For printing, please open this page in your regular browser. (Tap the menu icon ‚Üí "Open in Browser")');
        }
      } catch (e) {
        alert('Printing is not available here. Please open in your browser.');
      }
    }

    function openInBrowser() {
      try {
        window.open(window.location.href, '_blank');
      } catch (e) {
        alert('Please manually open in your browser');
      }
    }

    function showResult() {
      const roll = document.getElementById('roll').value;
      const resultDiv = document.getElementById('result');
      const errorDiv = document.getElementById('error-message');
      
      resultDiv.style.display = 'none';
      errorDiv.style.display = 'none';
      
      if (!roll || roll < 1 || roll > 22) {
        errorDiv.textContent = 'Invalid roll number. Please enter a number between 1 and 22.';
        errorDiv.style.display = 'block';
        return;
      }
      
      if (data[roll]) {
        const student = data[roll];
        
        document.getElementById('student-name').textContent = student.name;
        document.getElementById('student-roll').textContent = roll;
        
        let marksHtml = '';
        let allPassed = true;
        
        student.marks.forEach((mark, index) => {
          const status = mark >= passMarks ? 'pass' : 'fail';
          if (mark < passMarks) allPassed = false;
          
          marksHtml += `
            <tr>
              <td>${subjects[index]}</td>
              <td>${fullMarks}</td>
              <td>${passMarks}</td>
              <td>${mark}</td>
              <td class="${status}">${status === 'pass' ? 'Pass' : 'Fail'}</td>
            </tr>
          `;
        });
        
        document.getElementById('marks-body').innerHTML = marksHtml;
        
        document.getElementById('total-marks').textContent = student.total;
        document.getElementById('percentage').textContent = student.percent;
        document.getElementById('position').textContent = student.status;
        
        const finalResult = !student.status.includes('FAIL') ? 
          `<span class="pass">Pass</span>` : `<span class="fail">Fail</span>`;
        document.getElementById('final-result').innerHTML = finalResult;
        
        resultDiv.style.display = 'block';
      } else {
        errorDiv.textContent = 'Result not found for this roll number. Please check the roll number and try again.';
        errorDiv.style.display = 'block';
      }
    }
  </script>
</body>
</html>